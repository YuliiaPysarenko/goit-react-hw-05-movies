"use strict";(self.webpackChunkreact_homework_5_pysarenko=self.webpackChunkreact_homework_5_pysarenko||[]).push([[130],{3714:function(e,r,n){n.d(r,{Df:function(){return o},IQ:function(){return v},Jh:function(){return l},TP:function(){return f},XT:function(){return p}});var t=n(5861),a=n(7757),c=n.n(a),s=n(4569),u=n.n(s);u().defaults.baseURL="https://api.themoviedb.org/3";var i="d01b93f6037a4d1c509361675c1b2760",o=function(){var e=(0,t.Z)(c().mark((function e(){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/trending/movie/day?page=1&api_key=".concat(i));case 2:return r=e.sent,n=r.data.results,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(c().mark((function e(r){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/search/movie?api_key=".concat(i,"&query=").concat(r,"&include_adult=false"));case 2:return n=e.sent,t=n.data.results,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(c().mark((function e(r){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/movie/".concat(r,"?api_key=").concat(i));case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=(0,t.Z)(c().mark((function e(r){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/movie/".concat(r,"/credits?api_key=").concat(i));case 2:return n=e.sent,t=n.data.cast,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(c().mark((function e(r){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/movie/".concat(r,"/reviews?api_key=").concat(i));case 2:return n=e.sent,t=n.data.results,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},6130:function(e,r,n){n.r(r),n.d(r,{ReviewsSubpage:function(){return p}});var t=n(885),a=n(2791),c=n(6871),s=n(3714),u={reviewList:"Reviews_reviewList__uMBar",reviewItem:"Reviews_reviewItem__ax7Fo",reviewsListEmpty:"Reviews_reviewsListEmpty__OnlvE"},i=n(184);function o(e){var r=e.reviews;return(0,i.jsx)(i.Fragment,{children:r&&0!==r.length?(0,i.jsx)("ul",{className:u.reviewList,children:r.map((function(e){return(0,i.jsxs)("li",{className:u.reviewItem,children:[(0,i.jsx)("p",{className:u.reviewAuthor,children:(0,i.jsxs)("b",{children:[e.author,":"]})}),(0,i.jsx)("p",{className:u.reviewText,children:e.content.length>50?e.content.slice(0,250).concat(" ..."):e.content}),(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Read more"})})]},e.id)}))}):(0,i.jsx)("p",{className:u.reviewsListEmpty,children:"There are no reviews yet"})})}function p(){var e=(0,c.UO)().movieId,r=(0,a.useState)(null),n=(0,t.Z)(r,2),u=n[0],p=n[1];return(0,a.useEffect)((function(){(0,s.Jh)(e).then(p)}),[e]),(0,i.jsx)(a.Suspense,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:(0,i.jsx)(o,{reviews:u})})}}}]);
//# sourceMappingURL=130.2dd0d8e8.chunk.js.map